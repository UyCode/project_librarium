webpackJsonp([0],{"/10/":function(e,t){},"0U9i":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"UserProfile",components:{BulkRegistration:a("VQCX").default},data:function(){return{users:[],roles:[],dialogFormVisible:!1,selectedUser:[],selectedRolesIds:[]}},mounted:function(){this.listUsers(),this.listRoles()},computed:{tableHeight:function(){return window.innerHeight-320}},methods:{remove:function(e){var t=this;this.$confirm("此操作将永久移除该"+e.name+"是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.name;t.$axios.delete("/admin/user/deleteUserBy/"+e.id).then(function(e){e&&200===e.data.code&&(t.listUsers(),t.listRoles(),t.$notify.success({title:"移除成功",message:"你已经移除了"+a}))}).catch(function(e){t.$notify.error({title:"网络错误！",message:"请稍后重试！"})})})},listUsers:function(){var e=this;this.$axios.get("/admin/user").then(function(t){console.log("listed"),t&&200===t.data.code&&(e.users=t.data.result)})},listRoles:function(){var e=this;this.$axios.get("/admin/role").then(function(t){t&&200===t.data.code&&(e.roles=t.data.result)})},commitStatusChange:function(e,t){var a=this;"admin"!==t.username?this.$axios.put("/admin/user/status",{enabled:e,username:t.username}).then(function(r){r&&200===r.data.code&&(e?a.$message("用户 ["+t.username+"] 已启用"):a.$message("用户 ["+t.username+"] 已禁用"))}):(t.enabled=!0,this.$alert("不能禁用管理员账户"))},onSubmit:function(e){for(var t=this,a=[],r=0;r<this.selectedRolesIds.length;r++)for(var o=0;o<this.roles.length;o++)this.selectedRolesIds[r]===this.roles[o].id&&a.push(this.roles[o]);this.$axios.put("/admin/user",{username:e.username,name:e.name,phone:e.phone,email:e.email,roles:a}).then(function(e){e&&200===e.data.code&&(t.$alert("用户信息修改成功"),t.dialogFormVisible=!1,t.listUsers())})},editUser:function(e){this.dialogFormVisible=!0,this.selectedUser=e;for(var t=[],a=0;a<e.roles.length;a++)t.push(e.roles[a].id);this.selectedRolesIds=t},resetPassword:function(e){var t=this;this.$axios.put("/admin/user/password",{username:e}).then(function(e){e&&200===e.data.code&&t.$alert("密码已重置为 123")})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"修改用户信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}},[a("el-form-item",{attrs:{label:"用户名","label-width":"120px",prop:"username"}},[a("label",[e._v(e._s(e.selectedUser.username))])]),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名","label-width":"120px",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedUser.name,callback:function(t){e.$set(e.selectedUser,"name",t)},expression:"selectedUser.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":"120px",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedUser.phone,callback:function(t){e.$set(e.selectedUser,"phone",t)},expression:"selectedUser.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":"120px",prop:"email"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedUser.email,callback:function(t){e.$set(e.selectedUser,"email",t)},expression:"selectedUser.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":"120px",prop:"password"}},[a("el-button",{staticClass:"el-icon-check",attrs:{type:"warning"},on:{click:function(t){return e.resetPassword(e.selectedUser.username)}}},[e._v("重置密码")])],1),e._v(" "),a("el-form-item",{attrs:{label:"角色分配","label-width":"120px",prop:"roles"}},[a("el-checkbox-group",{model:{value:e.selectedRolesIds,callback:function(t){e.selectedRolesIds=t},expression:"selectedRolesIds"}},e._l(e.roles,function(t,r){return a("el-checkbox",{key:r,attrs:{label:t.id}},[e._v(e._s(t.nameZh))])}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"warning"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"el-icon-check",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.selectedUser)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin/dashboard"}}},[e._v("管理中心")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户信息")])],1)],1),e._v(" "),a("bulk-registration",{on:{onSubmit:function(t){return e.listUsers()}}}),e._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,stripe:"","default-sort":{prop:"id",order:"ascending"},"max-height":e.tableHeight}},[a("el-table-column",{attrs:{type:"selection",width:"45"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",sortable:"",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"真实姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",fit:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱","show-overflow-tooltip":"",fit:""}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.commitStatusChange(a,t.row)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editUser(t.row)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.remove(t.row)}}},[e._v("\n            移除\n          ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{margin:"20px 0 20px 0",float:"left"}},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"warning"}},[e._v("取消选择")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger"}},[e._v("批量删除")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("PKGj")},"data-v-80110678",null);t.default=l.exports},"2y18":function(e,t){},"5iht":function(e,t){},"6zrk":function(e,t){},"8u/y":function(e,t){},"8zNu":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"BookManagement",components:{EditForm:a("EYD5").default},data:function(){return{books:[]}},mounted:function(){this.loadBooks()},computed:{tableHeight:function(){return window.innerHeight-320}},methods:{deleteBook:function(e){var t=this;this.$confirm("此操作将永久删除该书籍, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete("/admin/content/books/delete/"+e.id).then(function(e){e&&200===e.data.code&&t.loadBooks()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},editBook:function(e){this.$refs.edit.dialogFormVisible=!0,this.$refs.edit.form={id:e.id,cover:e.cover,title:e.title,author:e.author,date:e.date,press:e.press,abs:e.abs,category:{id:e.category.id.toString(),name:e.category.name}}},loadBooks:function(){var e=this;this.$axios.get("/books").then(function(t){t&&200===t.data.code&&(e.books=t.data.result)})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin/dashboard"}}},[e._v("管理中心")]),e._v(" "),a("el-breadcrumb-item",[e._v("内容管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("图书管理")])],1)],1),e._v(" "),a("edit-form",{ref:"edit",on:{onSubmit:function(t){return e.loadBooks()}}}),e._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.books,stripe:"","max-height":e.tableHeight}},[a("el-table-column",{attrs:{type:"selection",width:"45"}}),e._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{"label-position":"left",inline:""}},[a("el-form-item",[a("span",[e._v(e._s(t.row.abs))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"书名",fit:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"category.name",label:"分类",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",fit:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"出版日期",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"press",label:"出版社",fit:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作(展开查看摘要)",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.editBook(t.row)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteBook(t.row)}}},[e._v("\n            移除\n          ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{margin:"20px 0 20px 0",float:"left"}},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"warning"}},[e._v("取消选择")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger"}},[e._v("批量删除")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("/10/")},"data-v-f7e2b4e2",null);t.default=l.exports},CwSZ:function(e,t,a){"use strict";var r=a("p8xL"),o=a("XgCd"),l={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},n=Date.prototype.toISOString,i={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,a,o,l,n,s,c,d,u,m,p,f){var h=t;if("function"==typeof c)h=c(a,h);else if(h instanceof Date)h=m(h);else if(null===h){if(l)return s&&!f?s(a,i.encoder):a;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||r.isBuffer(h))return s?[p(f?a:s(a,i.encoder))+"="+p(s(h,i.encoder))]:[p(a)+"="+p(String(h))];var b,v=[];if(void 0===h)return v;if(Array.isArray(c))b=c;else{var g=Object.keys(h);b=d?g.sort(d):g}for(var y=0;y<b.length;++y){var _=b[y];n&&null===h[_]||(v=Array.isArray(h)?v.concat(e(h[_],o(a,_),o,l,n,s,c,d,u,m,p,f)):v.concat(e(h[_],a+(u?"."+_:"["+_+"]"),o,l,n,s,c,d,u,m,p,f)))}return v};e.exports=function(e,t){var a=e,n=t?r.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===n.delimiter?i.delimiter:n.delimiter,d="boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,u="boolean"==typeof n.skipNulls?n.skipNulls:i.skipNulls,m="boolean"==typeof n.encode?n.encode:i.encode,p="function"==typeof n.encoder?n.encoder:i.encoder,f="function"==typeof n.sort?n.sort:null,h=void 0!==n.allowDots&&n.allowDots,b="function"==typeof n.serializeDate?n.serializeDate:i.serializeDate,v="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:i.encodeValuesOnly;if(void 0===n.format)n.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,n.format))throw new TypeError("Unknown format option provided.");var g,y,_=o.formatters[n.format];"function"==typeof n.filter?a=(y=n.filter)("",a):Array.isArray(n.filter)&&(g=y=n.filter);var x,w=[];if("object"!=typeof a||null===a)return"";x=n.arrayFormat in l?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var k=l[x];g||(g=Object.keys(a)),f&&g.sort(f);for(var $=0;$<g.length;++$){var C=g[$];u&&null===a[C]||(w=w.concat(s(a[C],C,k,d,u,m?p:null,y,f,h,b,_,v)))}var F=w.join(c),S=!0===n.addQueryPrefix?"?":"";return F.length>0?S+F:""}},DDCP:function(e,t,a){"use strict";var r=a("p8xL"),o=Object.prototype.hasOwnProperty,l={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},n=function(e,t,a){if(e){var r=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/g,n=/(\[[^[\]]*])/.exec(r),i=n?r.slice(0,n.index):r,s=[];if(i){if(!a.plainObjects&&o.call(Object.prototype,i)&&!a.allowPrototypes)return;s.push(i)}for(var c=0;null!==(n=l.exec(r))&&c<a.depth;){if(c+=1,!a.plainObjects&&o.call(Object.prototype,n[1].slice(1,-1))&&!a.allowPrototypes)return;s.push(n[1])}return n&&s.push("["+r.slice(n.index)+"]"),function(e,t,a){for(var r=t,o=e.length-1;o>=0;--o){var l,n=e[o];if("[]"===n)l=(l=[]).concat(r);else{l=a.plainObjects?Object.create(null):{};var i="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,s=parseInt(i,10);!isNaN(s)&&n!==i&&String(s)===i&&s>=0&&a.parseArrays&&s<=a.arrayLimit?(l=[])[s]=r:l[i]=r}r=l}return r}(s,t,a)}};e.exports=function(e,t){var a=t?r.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!=typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"==typeof a.delimiter||r.isRegExp(a.delimiter)?a.delimiter:l.delimiter,a.depth="number"==typeof a.depth?a.depth:l.depth,a.arrayLimit="number"==typeof a.arrayLimit?a.arrayLimit:l.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"==typeof a.decoder?a.decoder:l.decoder,a.allowDots="boolean"==typeof a.allowDots?a.allowDots:l.allowDots,a.plainObjects="boolean"==typeof a.plainObjects?a.plainObjects:l.plainObjects,a.allowPrototypes="boolean"==typeof a.allowPrototypes?a.allowPrototypes:l.allowPrototypes,a.parameterLimit="number"==typeof a.parameterLimit?a.parameterLimit:l.parameterLimit,a.strictNullHandling="boolean"==typeof a.strictNullHandling?a.strictNullHandling:l.strictNullHandling,""===e||null===e||void 0===e)return a.plainObjects?Object.create(null):{};for(var i="string"==typeof e?function(e,t){for(var a={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,n=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,n),s=0;s<i.length;++s){var c,d,u=i[s],m=u.indexOf("]="),p=-1===m?u.indexOf("="):m+1;-1===p?(c=t.decoder(u,l.decoder),d=t.strictNullHandling?null:""):(c=t.decoder(u.slice(0,p),l.decoder),d=t.decoder(u.slice(p+1),l.decoder)),o.call(a,c)?a[c]=[].concat(a[c]).concat(d):a[c]=d}return a}(e,a):e,s=a.plainObjects?Object.create(null):{},c=Object.keys(i),d=0;d<c.length;++d){var u=c[d],m=n(u,i[u],a);s=r.merge(s,m,a)}return r.compact(s)}},EYD5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"EditForm",components:{ImgUpload:a("1vuj").default},data:function(){return{dialogFormVisible:!1,form:{id:"",title:"",author:"",date:"",press:"",cover:"",abs:"",cid:"",category:{id:"",name:""}},formLabelWidth:"120px"}},methods:{clear:function(){this.$refs.imgUpload.clear(),this.form={id:"",title:"",author:"",date:"",press:"",cover:"",abs:"",category:{id:"",name:""}}},onSubmit:function(){var e=this;this.$axios.post("/admin/content/books",{id:this.form.id,cover:this.form.cover,title:this.form.title,author:this.form.author,date:this.form.date,press:this.form.press,abs:this.form.abs,category:this.form.category}).then(function(t){t&&200===t.data.code&&(e.dialogFormVisible=!1,e.$emit("onSubmit"))})},uploadImg:function(){this.form.cover=this.$refs.imgUpload.url}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("el-button",{staticClass:"add-button el-icon-plus",attrs:{type:"success"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加图书")]),e._v(" "),a("el-dialog",{attrs:{title:"添加/修改图书",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.clear}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("el-form-item",{attrs:{label:"书名","label-width":e.formLabelWidth,prop:"title"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"不加《》"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"作者","label-width":e.formLabelWidth,prop:"author"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出版日期","label-width":e.formLabelWidth,prop:"date"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出版社","label-width":e.formLabelWidth,prop:"press"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.press,callback:function(t){e.$set(e.form,"press",t)},expression:"form.press"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"封面","label-width":e.formLabelWidth,prop:"cover"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"图片 URL"},model:{value:e.form.cover,callback:function(t){e.$set(e.form,"cover",t)},expression:"form.cover"}}),e._v(" "),a("img-upload",{ref:"imgUpload",on:{onUpload:e.uploadImg}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简介","label-width":e.formLabelWidth,prop:"abs"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.abs,callback:function(t){e.$set(e.form,"abs",t)},expression:"form.abs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类","label-width":e.formLabelWidth,prop:"cid"}},[a("el-select",{attrs:{name:"分类",placeholder:"请选择分类"},model:{value:e.form.category.id,callback:function(t){e.$set(e.form.category,"id",t)},expression:"form.category.id"}},[a("el-option",{attrs:{label:"文学",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"流行",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"文化",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"生活",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"经管",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"科技",value:"6"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{height:"0"},attrs:{prop:"id"}},[a("el-input",{attrs:{type:"hidden",autocomplete:"off"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"danger"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"el-icon-check",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("2y18")},"data-v-32f94fc1",null);t.default=l.exports},OUBB:function(e,t){},PKGj:function(e,t){},VQCX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("el-button",{staticClass:"add-button el-icon-document-add",attrs:{type:"success"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("批量添加用户")]),e._v(" "),a("el-dialog",{attrs:{title:"添加用户",visible:e.dialogFormVisible,width:"25%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.clear}},[a("el-form",{attrs:{model:e.loginForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"真实姓名"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"电话号码"},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"E-Mail"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticClass:"el-icon-plus",staticStyle:{width:"40%",border:"none","margin-left":"80px"},attrs:{type:"primary"},on:{click:e.register}},[e._v("添加")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")({name:"BulkRegistration",data:function(){return{dialogFormVisible:!1,rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},loginForm:{username:"",password:"",name:"",phone:"",email:""}}},methods:{clear:function(){this.loginForm={username:"",password:"",name:"",phone:"",email:""}},register:function(){var e=this;this.$axios.post("/register",{username:this.loginForm.username,password:this.loginForm.password,name:this.loginForm.name,phone:this.loginForm.phone,email:this.loginForm.email}).then(function(t){200===t.data.code?(e.$alert("注册成功","提示",{confirmButtonText:"确定"}),e.clear(),e.$emit("onSubmit")):e.$alert(t.data.message,"提示",{confirmButtonText:"确定"})}).catch(function(e){})}}},r,!1,function(e){a("OUBB")},"data-v-bd374ad2",null);t.default=o.exports},VcZY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin/dashboard"}}},[e._v("管理中心")]),e._v(" "),a("el-breadcrumb-item",[e._v("内容管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("图书管理")])],1)],1),e._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"广告名称",fit:""}}),e._v(" "),a("el-table-column",{attrs:{label:"链接地址",fit:""}}),e._v(" "),a("el-table-column",{attrs:{label:"图片地址",fit:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary",size:"mini"}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",size:"mini"}},[e._v("\n            移除\n          ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{margin:"20px 0 20px 0",float:"left"}},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"warning"}},[e._v("取消选择")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger"}},[e._v("批量删除")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")({name:"BannerManagement"},r,!1,function(e){a("6zrk")},"data-v-468ce620",null);t.default=o.exports},XgCd:function(e,t,a){"use strict";var r=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},cdRC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("el-button",{staticClass:"add-button el-icon-folder-add",attrs:{type:"success"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加角色")]),e._v(" "),a("el-dialog",{attrs:{title:"添加角色",visible:e.dialogFormVisible,width:"25%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.clear}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{model:e.roleForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"角色名"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"nameZh"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"角色描述"},model:{value:e.roleForm.nameZh,callback:function(t){e.$set(e.roleForm,"nameZh",t)},expression:"roleForm.nameZh"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-tag",[e._v("初始权限：无")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticClass:"el-icon-plus",staticStyle:{width:"40%",border:"none","margin-left":"80px"},attrs:{type:"primary"},on:{click:e.createRole}},[e._v("添加")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")({name:"RoleCreate",data:function(){return{dialogFormVisible:!1,rules:{name:[{required:!0,message:"角色名不能为空",trigger:"blur"}]},checked:!0,roleForm:{name:"",nameZh:""},loading:!1}},methods:{clear:function(){this.roleForm={name:"",nameZh:""}},createRole:function(){var e=this;this.$axios.post("/admin/role",{name:this.roleForm.name,nameZh:this.roleForm.nameZh}).then(function(t){200===t.data.code?(e.$alert(t.data.result,"提示",{confirmButtonText:"确定"}),e.clear(),e.$emit("onSubmit")):e.$alert(t.data.message,"提示",{confirmButtonText:"确定"})}).catch(function(e){}),this.dialogFormVisible=!1}}},r,!1,function(e){a("5iht")},"data-v-0844ed21",null);t.default=o.exports},d5t4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("mw3O");var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{height:"840px"}},[a("el-switch",{staticClass:"switch",attrs:{"active-text":"显示更多"},on:{change:e.changeView},model:{value:e.values,callback:function(t){e.values=t},expression:"values"}}),e._v(" "),e._l(e.books.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),function(t){return a("el-tooltip",{key:t.id,staticStyle:{"margin-top":"50px"},attrs:{effect:"dark",placement:"right",disabled:e.disabled,"open-delay":500}},[a("p",{staticStyle:{"font-size":"14px","margin-bottom":"6px"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.title))]),e._v(" "),a("p",{staticStyle:{"font-size":"13px","margin-bottom":"6px"},attrs:{slot:"content"},slot:"content"},[a("span",[e._v(e._s(t.author))]),e._v(" /\n        "),a("span",[e._v(e._s(t.date))]),e._v(" /\n        "),a("span",[e._v(e._s(t.press))])]),e._v(" "),a("p",{staticClass:"abstract",staticStyle:{width:"300px"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.abs))]),e._v(" "),a("el-card",{staticClass:"card",attrs:{"body-style":{padding:"10px"},shadow:"hover"}},[a("div",{staticClass:"cover"},[a("img",{attrs:{src:t.cover,alt:"封面"}})]),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("a",{attrs:{href:""}},[e._v(e._s(t.title))])])]),e._v(" "),a("div",{staticClass:"author"},[e._v(e._s(t.author))]),e._v(" "),a("el-button",{key:t.id,staticStyle:{float:"bottom",width:"180px"},attrs:{type:"warning"},on:{click:function(a){return e.deleteBook(t)}}},[a("i",{staticClass:"el-icon-collection"}),e._v("    归  还\n        ")])],1)],1)})],2),e._v(" "),a("el-row",[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,total:e.books.length},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var o=a("VU/8")({name:"BorrowedBooks",data:function(){return{disabled:!1,values:!0,books:[],currentPage:1,pagesize:8}},mounted:function(){this.loadBooks()},methods:{deleteBook:function(e){var t=this;this.$axios.delete("/bookReturn/"+this.$store.state.id+"/"+e.id).then(function(a){if(a&&200===a.data.code){var r=t.books.findIndex(function(e){if(e.id===a.data.result)return!0});t.books.splice(r,1),t.$notify({message:"归还《"+e.title+"》成功！",type:"success"})}}).catch(function(e){t.$notify({title:"未知错误！",message:"请稍后重试看看呗！",type:"error"})})},changeView:function(e){this.disabled=!e},loadBooks:function(){var e=this,t=this.$store.state.id;this.$axios.get("/orderedBooks/"+t).then(function(t){t&&200===t.data.code&&(e.books=t.data.result)})},handleCurrentChange:function(e){this.currentPage=e},searchResult:function(){var e=this;this.$axios.get("/search?keywords="+this.$refs.searchBar.keywords,{}).then(function(t){t&&200===t.data.code&&(e.books=t.data.result)})}}},r,!1,function(e){a("lUS1")},"data-v-a46a7256",null);t.default=o.exports},lA5N:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("VQCX");var r={name:"UserProfile",data:function(){return{users:[],dialogFormVisible:!1,selectedUser:[]}},mounted:function(){this.listUser()},computed:{tableHeight:function(){return window.innerHeight-320}},methods:{listUser:function(){var e=this,t=this.$store.state.username;this.$axios.get("/user/"+t).then(function(t){t&&200===t.data.code&&(e.users=t.data.result)})},commitStatusChange:function(e,t){var a=this;"admin"!==t.username?this.$axios.put("/user/status",{enabled:e,username:t.username}).then(function(r){r&&200===r.data.code&&(e?a.$message("用户 ["+t.username+"] 已启用"):a.$message("用户 ["+t.username+"] 已禁用"))}):(t.enabled=!0,this.$alert("不能禁用管理员账户"))},onSubmit:function(e){var t=this;this.$axios.put("/userEdit",{username:e.username,name:e.name,phone:e.phone,email:e.email}).then(function(e){e&&200===e.data.code&&(t.$alert("用户信息修改成功"),t.dialogFormVisible=!1,t.listUser())})},editUser:function(e){this.dialogFormVisible=!0,this.selectedUser=e},resetPassword:function(e){var t=this;this.$axios.put("/user/password",{username:e}).then(function(e){e&&200===e.data.code&&t.$alert("密码已重置为 123")})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"修改个人信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}},[a("el-form-item",{attrs:{label:"用户名","label-width":"120px",prop:"username"}},[a("label",[e._v(e._s(e.selectedUser.username))])]),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名","label-width":"120px",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedUser.name,callback:function(t){e.$set(e.selectedUser,"name",t)},expression:"selectedUser.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":"120px",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedUser.phone,callback:function(t){e.$set(e.selectedUser,"phone",t)},expression:"selectedUser.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":"120px",prop:"email"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedUser.email,callback:function(t){e.$set(e.selectedUser,"email",t)},expression:"selectedUser.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":"120px",prop:"password"}},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.resetPassword(e.selectedUser.username)}}},[e._v("重置密码")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.selectedUser)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin/dashboard"}}},[e._v("管理中心")]),e._v(" "),a("el-breadcrumb-item",[e._v("个人信息")])],1)],1),e._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,stripe:"","default-sort":{prop:"id",order:"ascending"},"max-height":e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"真实姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱","show-overflow-tooltip":"",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editUser(t.row)}}},[e._v("\n            编辑\n          ")])]}}])})],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("8u/y")},"data-v-5bb53ffc",null);t.default=l.exports},lUS1:function(e,t){},lyrv:function(e,t){},mw3O:function(e,t,a){"use strict";var r=a("CwSZ"),o=a("DDCP"),l=a("XgCd");e.exports={formats:l,parse:o,stringify:r}},p8xL:function(e,t,a){"use strict";var r=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(a[r]=e[r]);return a};e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce(function(e,a){return e[a]=t[a],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],r=0;r<t.length;++r)for(var o=t[r],l=o.obj[o.prop],n=Object.keys(l),i=0;i<n.length;++i){var s=n[i],c=l[s];"object"==typeof c&&null!==c&&-1===a.indexOf(c)&&(t.push({obj:l,prop:s}),a.push(c))}return function(e){for(var t;e.length;){var a=e.pop();if(t=a.obj[a.prop],Array.isArray(t)){for(var r=[],o=0;o<t.length;++o)void 0!==t[o]&&r.push(t[o]);a.obj[a.prop]=r}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),a="",r=0;r<t.length;++r){var l=t.charCodeAt(r);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?a+=t.charAt(r):l<128?a+=o[l]:l<2048?a+=o[192|l>>6]+o[128|63&l]:l<55296||l>=57344?a+=o[224|l>>12]+o[128|l>>6&63]+o[128|63&l]:(r+=1,l=65536+((1023&l)<<10|1023&t.charCodeAt(r)),a+=o[240|l>>18]+o[128|l>>12&63]+o[128|l>>6&63]+o[128|63&l])}return a},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,a,o){if(!a)return t;if("object"!=typeof a){if(Array.isArray(t))t.push(a);else{if("object"!=typeof t)return[t,a];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,a))&&(t[a]=!0)}return t}if("object"!=typeof t)return[t].concat(a);var n=t;return Array.isArray(t)&&!Array.isArray(a)&&(n=l(t,o)),Array.isArray(t)&&Array.isArray(a)?(a.forEach(function(a,l){r.call(t,l)?t[l]&&"object"==typeof t[l]?t[l]=e(t[l],a,o):t.push(a):t[l]=a}),t):Object.keys(a).reduce(function(t,l){var n=a[l];return r.call(t,l)?t[l]=e(t[l],n,o):t[l]=n,t},n)}}},pmqU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"UserRole",components:{RoleCreate:a("cdRC").default},data:function(){return{dialogFormVisible:!1,roles:[],perms:[],menus:[],selectedRole:[],selectedPermsIds:[],selectedMenusIds:[],props:{id:"id",label:"nameZh",children:"children"}}},mounted:function(){this.listRoles(),this.listPerms(),this.listMenus()},computed:{tableHeight:function(){return window.innerHeight-320}},methods:{remove:function(e){var t=this;this.$confirm("此操作将永久移除"+e.nameZh+"是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.nameZh;t.$axios.delete("/admin/role/deleteRole/"+e.id).then(function(e){if(e&&200===e.data.code){var r=t.roles.findIndex(function(t){if(t.id===e.data.result)return!0});t.roles.splice(r,1),t.$notify.success({title:"移除成功",message:"你已经移除了"+a})}}).catch(function(e){t.$notify.error({title:"网络错误！",message:"请稍后重试！"})})})},listRoles:function(){var e=this;this.$axios.get("/admin/role").then(function(t){t&&200===t.status&&(e.roles=t.data.result)})},listPerms:function(){var e=this;this.$axios.get("/admin/role/perm").then(function(t){t&&200===t.data.code&&(e.perms=t.data.result)})},listMenus:function(){var e=this;this.$axios.get("/admin/role/menu").then(function(t){t&&200===t.data.code&&(e.menus=t.data.result)})},commitStatusChange:function(e,t){var a=this;1!==t.id?this.$confirm("是否更改角色状态？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.put("/admin/role/status",{enabled:e,id:t.id}).then(function(r){r&&200===r.data.code&&(e?a.$message("角色 ["+t.nameZh+"] 已启用"):a.$message("角色 ["+t.nameZh+"] 已禁用"))})}).catch(function(){t.enabled=!t.enabled,a.$message({type:"info",message:"已取消"})}):(t.enabled=!0,this.$alert("无法禁用系统管理员！"))},editRole:function(e){this.dialogFormVisible=!0,this.selectedRole=e;for(var t=[],a=0;a<e.perms.length;a++)t.push(e.perms[a].id);this.selectedPermsIds=t;for(var r=[],o=0;o<e.menus.length;o++){r.push(e.menus[o].id);for(var l=0;l<e.menus[o].children.length;l++)r.push(e.menus[o].children[l].id)}this.selectedMenusIds=r,this.$refs.tree&&this.$refs.tree.setCheckedKeys(r)},onSubmit:function(e){for(var t=this,a=[],r=0;r<this.selectedPermsIds.length;r++)for(var o=0;o<this.perms.length;o++)this.selectedPermsIds[r]===this.perms[o].id&&a.push(this.perms[o]);this.$axios.put("/admin/role",{id:e.id,name:e.name,nameZh:e.nameZh,enabled:e.enabled,perms:a}).then(function(e){e&&200===e.data.code&&(t.$alert(e.data.result),t.dialogFormVisible=!1,t.listRoles())}),this.$axios.put("/admin/role/menu?rid="+e.id,{menusIds:this.$refs.tree.getCheckedKeys()}).then(function(e){e&&200===e.data.code&&console.log(e.data.result)})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"修改角色信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}},[a("el-form-item",{attrs:{label:"角色名","label-width":"120px",prop:"username"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedRole.name,callback:function(t){e.$set(e.selectedRole,"name",t)},expression:"selectedRole.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":"120px",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.selectedRole.nameZh,callback:function(t){e.$set(e.selectedRole,"nameZh",t)},expression:"selectedRole.nameZh"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"功能配置","label-width":"120px",prop:"perms"}},[a("el-checkbox-group",{model:{value:e.selectedPermsIds,callback:function(t){e.selectedPermsIds=t},expression:"selectedPermsIds"}},e._l(e.perms,function(t,r){return a("el-checkbox",{key:r,attrs:{label:t.id}},[e._v(e._s(t.desc_))])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单配置","label-width":"120px",prop:"menus"}},[a("el-tree",{ref:"tree",attrs:{data:e.menus,props:e.props,"show-checkbox":"","default-checked-keys":e.selectedMenusIds,"node-key":"id"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"warning"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"el-icon-check",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.selectedRole)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin/dashboard"}}},[e._v("管理中心")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("角色配置")])],1)],1),e._v(" "),a("role-create",{on:{onSubmit:function(t){return e.listRoles()}}}),e._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roles,stripe:"","max-height":e.tableHeight}},[a("el-table-column",{attrs:{type:"selection",width:"45"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"角色名",fit:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"nameZh",label:"角色描述",fit:""}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.commitStatusChange(a,t.row)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editRole(t.row)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.remove(t.row)}}},[e._v("\n            移除\n          ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{margin:"20px 0 20px 0",float:"left"}},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"warning"}},[e._v("取消选择")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger"}},[e._v("批量删除")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("lyrv")},"data-v-11cf8d3c",null);t.default=l.exports},tqLV:function(e,t,a){var r={"./AdminIndex.vue":"akyf","./AdminMenu.vue":"Ofww","./Header.vue":"JtNw","./content/ArticleEditor.vue":"DNt1","./content/ArticleManagement.vue":"yA7P","./content/BannerManagement.vue":"VcZY","./content/BookManagement.vue":"8zNu","./content/EditForm.vue":"EYD5","./content/ImgUpload.vue":"1vuj","./dashboard/admin/components/BarChart.vue":"p6nP","./dashboard/admin/components/BoxCard.vue":"39LR","./dashboard/admin/components/LineChart.vue":"jutt","./dashboard/admin/components/PanelGroup.vue":"gVcc","./dashboard/admin/components/PieChart.vue":"AbWr","./dashboard/admin/components/RaddarChart.vue":"uYnh","./dashboard/admin/components/TodoList/Todo.vue":"SxUx","./dashboard/admin/components/TodoList/index.vue":"WBdT","./dashboard/admin/components/TransactionTable.vue":"kbyp","./dashboard/admin/index.vue":"R/lB","./user/BorrowedBooks.vue":"d5t4","./user/BulkRegistration.vue":"VQCX","./user/Role.vue":"pmqU","./user/RoleCreate.vue":"cdRC","./user/SingleUser.vue":"lA5N","./user/UserProfile.vue":"0U9i"};function o(e){return a(l(e))}function l(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(r)},o.resolve=l,e.exports=o,o.id="tqLV"},"va8+":function(e,t){},yA7P:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"ArticleManagement",data:function(){return{articles:[],pageSize:10,total:0}},mounted:function(){this.loadArticles()},computed:{tableHeight:function(){return window.innerHeight-320}},methods:{loadArticles:function(){var e=this;this.$axios.get("/article/"+this.pageSize+"/1").then(function(t){t&&200===t.data.code&&(e.articles=t.data.result.content,e.total=t.data.result.totalElements)})},handleCurrentChange:function(e){var t=this;this.$axios.get("/article/"+this.pageSize+"/"+e).then(function(e){e&&200===e.data.code&&(t.articles=e.data.result.content,t.total=e.data.result.totalElements)})},viewArticle:function(e){var t=this.$router.resolve({path:"../../jotter/article",query:{id:e}});window.open(t.href,"_blank")},editArticle:function(e){this.$router.push({name:"Editor",params:{article:e}})},deleteArticle:function(e){var t=this;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete("/admin/content/article/"+e).then(function(e){e&&200===e.data.code&&t.loadArticles()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin/dashboard"}}},[e._v("管理中心")]),e._v(" "),a("el-breadcrumb-item",[e._v("内容管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("文章管理")])],1)],1),e._v(" "),a("el-link",{staticClass:"add-link",attrs:{href:"/admin/content/editor",underline:!1,target:"_blank"}},[a("el-button",{staticClass:"el-icon-plus",attrs:{type:"success"}},[e._v("写文章")])],1),e._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.articles,stripe:"","max-height":e.tableHeight}},[a("el-table-column",{attrs:{type:"selection",width:"45"}}),e._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{attrs:{"label-position":"left",inline:""}},[a("el-form-item",[a("span",[e._v(e._s(t.row.articleAbstract))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"articleTitle",label:"题目（展开查看摘要）",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"articleDate",label:"发布日期",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-search",attrs:{type:"success",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.viewArticle(t.row.id)}}},[e._v("\n            查看\n          ")]),e._v(" "),a("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.editArticle(t.row)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-button",{staticClass:"el-icon-document-delete",attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteArticle(t.row.id)}}},[e._v("\n            移除\n          ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{margin:"20px 0 50px 0"}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total, prev, pager, next, jumper","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("va8+")},"data-v-5b95e739",null);t.default=l.exports}});
//# sourceMappingURL=0.336398a9c900c07bf736.js.map